/**
 * Created by chaoqunshe on 4/12/17.
 */
//数据字典 面积
var air_c_area_dict = [
    {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "5-10㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "0",
        //冷量
        quantity_cold: "2.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3250"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "10-15㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "1",
        quantity_cold: "2.8KW",
        default_num: "1",
        price: "3360"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "15-20㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "2",
        //冷量
        quantity_cold: "3.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3400"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "20-25㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "3",
        //冷量
        quantity_cold: "4KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3510"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "25-30㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "4",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3780"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "30-35㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "5",
        //冷量
        quantity_cold: "7.1KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4210"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "35-40㎡",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "6",
        //冷量
        quantity_cold: "9.0KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4650"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "5-10㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "0",
        //冷量
        quantity_cold: "2.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4880"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "10-15㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "1",
        //冷量
        quantity_cold: "2.8KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5070"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "15-20㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "2",
        quantity_cold: "2.8KW",
        default_num: "1",
        price: "5070"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "20-25㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "3",
        quantity_cold: "3.6KW",
        default_num: "1",
        price: "5280"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "25-30㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "4",
        //冷量
        quantity_cold: "4.5KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5450"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "30-35㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "5",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5930"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "35-40㎡",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "6",
        //冷量
        quantity_cold: "7.1KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "6370"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "5-10㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "0",
        //冷量
        quantity_cold: "0",
        //默认需求数量
        default_num: "0",
        //价格
        price: "0"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "10-15㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "1",
        quantity_cold: "3.6W",
        default_num: "1",
        price: "3460"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "15-20㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "2",
        //冷量
        quantity_cold: "4.5KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3630"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "20-25㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "3",
        //冷量
        quantity_cold: "7.1KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4210"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "25-30㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "4",
        //冷量
        quantity_cold: "9KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4650"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "30-35㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "5",
        //冷量
        quantity_cold: "11.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4900"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "35-40㎡",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "6",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "2",
        //价格
        price: "3780"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "5-10㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "0",
        //冷量
        quantity_cold: "0",
        //默认需求数量
        default_num: "0",
        //价格
        price: "0"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "10-15㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "1",
        //冷量
        quantity_cold: "2.8KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5070"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "15-20㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "2",
        quantity_cold: "3.6KW",
        default_num: "1",
        price: "5280"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "20-25㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "3",
        quantity_cold: "5.6KW",
        default_num: "1",
        price: "5930"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "25-30㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "4",
        //冷量
        quantity_cold: "7.1KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "6370"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "30-35㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "5",
        //冷量
        quantity_cold: "4.5KW",
        //默认需求数量
        default_num: "2",
        //价格
        price: "5450"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "35-40㎡",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "6",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "2",
        //价格
        price: "5930"
    }]
//匹数
var air_c_number_dict = [
    {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "小1匹",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "0",
        //冷量
        quantity_cold: "2.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3250"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "正1匹",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "1",
        quantity_cold: "2.8KW",
        default_num: "1",
        price: "3360"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "1.5匹",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "2",
        //冷量
        quantity_cold: "3.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3460"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "小2匹",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "3",
        //冷量
        quantity_cold: "4KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3510"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "正2匹",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "4",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3780"
    }, {
        room_type: "书|卧",
        machin_type: "风管机",
        horses_number: "3匹",
        room_type_id: "0",
        machin_type_id: "0",
        horses_number_id: "5",
        //冷量
        quantity_cold: "9.0KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4650"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "小1匹",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "0",
        //冷量
        quantity_cold: "2.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4880"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "正1匹",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "1",
        //冷量
        quantity_cold: "2.8KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5070"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "1.5匹",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "2",
        quantity_cold: "3.6KW",
        default_num: "1",
        price: "5280"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "小2匹",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "3",
        quantity_cold: "4.5KW",
        default_num: "1",
        price: "5450"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "正2匹",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "4",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5930"
    }, {
        room_type: "书|卧",
        machin_type: "单面嵌",
        horses_number: "3匹",
        room_type_id: "0",
        machin_type_id: "1",
        horses_number_id: "5",
        //冷量
        quantity_cold: "7.1KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "6370"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "小1匹",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "0",
        //冷量
        quantity_cold: "2.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3250"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "正1匹",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "1",
        quantity_cold: "2.8KW",
        default_num: "1",
        price: "3360"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "1.5匹",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "2",
        //冷量
        quantity_cold: "3.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3460"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "小2匹",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "3",
        //冷量
        quantity_cold: "4KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3510"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "正2匹",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "4",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "3780"
    }, {
        room_type: "客|餐厅",
        machin_type: "风管机",
        horses_number: "3匹",
        room_type_id: "1",
        machin_type_id: "0",
        horses_number_id: "5",
        //冷量
        quantity_cold: "9.0KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4650"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "小1匹",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "0",
        //冷量
        quantity_cold: "2.2KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "4880"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "正1匹",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "1",
        //冷量
        quantity_cold: "2.8KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5070"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "1.5匹",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "2",
        quantity_cold: "3.6KW",
        default_num: "1",
        price: "5280"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "小2匹",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "3",
        quantity_cold: "4.5KW",
        default_num: "1",
        price: "5450"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "正2匹",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "4",
        //冷量
        quantity_cold: "5.6KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "5930"
    }, {
        room_type: "客|餐厅",
        machin_type: "单面嵌",
        horses_number: "3匹",
        room_type_id: "1",
        machin_type_id: "1",
        horses_number_id: "5",
        //冷量
        quantity_cold: "7.1KW",
        //默认需求数量
        default_num: "1",
        //价格
        price: "6370"
    }]
//外机
var air_master_dict = [
    {
        horses_number: "3匹",
        quantity_cold: "8KW",
        price: "9950"
    }, {
        horses_number: "4匹",
        quantity_cold: "11.2KW",
        price: "14600"
    }, {
        horses_number: "5匹",
        quantity_cold: "14KW",
        price: "15230"
    }, {
        horses_number: "6匹",
        quantity_cold: "15.5KW",
        price: "15860"
    }, {
        horses_number: "7匹",
        quantity_cold: "20KW",
        price: "24040"
    }, {
        horses_number: "8匹",
        quantity_cold: "22.4KW",
        price: "25190"
    }, {
        horses_number: "9匹",
        quantity_cold: "24.1KW",
        price: "26330"
    }, {
        horses_number: "10匹",
        quantity_cold: "28KW",
        price: "28500"
    }, {
        horses_number: "12匹",
        quantity_cold: "33.5KW",
        price: "31930"
    }, {
        horses_number: "14匹",
        quantity_cold: "40KW",
        price: "34790"
    }
]

//传入内机 总匹数，计算出所需外机的具体数据（冷量，数量） 当 外机大于40kw 时 增加数量
function getAir_master(data_kw){
    // var temp_data_kw = data_kw.substring(0,data_kw.length-2);

    var temp_array=[];
    if(data_kw > 52 ) {
        //todo 当外机大于52kw时的计算方式
        var b = data_kw/2;
        for (var i = 0; i < air_master_dict.length; i++) {
            var a = air_master_dict[i].quantity_cold;
            a = a.substring(0,a.length-2)*1.3;
            if(b <= a){
                temp_array.push(air_master_dict[i]);
                temp_array.push(air_master_dict[i]);
                return temp_array;
            }
        }

    } else {
        for (var i = 0; i < air_master_dict.length; i++) {
            var a = air_master_dict[i].quantity_cold;
            a = a.substring(0,a.length-2)*1.3;
            if(data_kw <= a){
                temp_array.push(air_master_dict[i]);
                return temp_array;
            }
        }
    }


}

//将传入的面积配置单 添加价格信息
function getAir_c_area(dataList) {

    for (var i = 0; i < dataList.length; i++) {
        var a = dataList[i].room_type_id;
        var b = dataList[i].machin_type_id;
        var c = dataList[i].horses_number_id;
        var d = getAreaItem(a, b, c);
        if (d) {
            dataList[i].quantity_cold = d.quantity_cold;
            dataList[i].default_num = d.default_num;
            dataList[i].price = d.price;
        }
    }

    return dataList;
}

function getAreaItem(room_type_id, machin_type_id, horses_number_id) {
    for (var i = 0; i < air_c_area_dict.length; i++) {
        var a = air_c_area_dict[i].room_type_id;
        var b = air_c_area_dict[i].machin_type_id;
        var c = air_c_area_dict[i].horses_number_id;
        if (room_type_id == a && machin_type_id == b && horses_number_id == c) {
            return air_c_area_dict[i];
        }
    }
}

//将传入的匹数配置单 添加价格信息
function getAir_c_number(dataList) {
    for (var i = 0; i < dataList.length; i++) {
        var a = dataList[i].room_type_id;
        var b = dataList[i].machin_type_id;
        var c = dataList[i].horses_number_id;
        var d = getNumberItem(a, b, c);
        if (d) {
            dataList[i].quantity_cold = d.quantity_cold;
            dataList[i].default_num = d.default_num;
            dataList[i].price = d.price;
        }
    }

    return dataList;
}

function getNumberItem(room_type_id, machin_type_id, horses_number_id) {
    for (var i = 0; i < air_c_number_dict.length; i++) {
        var a = air_c_number_dict[i].room_type_id;
        var b = air_c_number_dict[i].machin_type_id;
        var c = air_c_number_dict[i].horses_number_id;
        if (room_type_id == a && machin_type_id == b && horses_number_id == c) {
            return air_c_number_dict[i];
        }
    }
}

const hello = function (string) {
    console.log(string)
}
module.exports = {
    getAir_c_number: getAir_c_number,
    getAir_c_area: getAir_c_area,
    sayHello: hello,
    getAir_master:getAir_master
}

